<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è‹±å˜èªå­¦ç¿’ã‚¢ãƒ—ãƒª</title>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon_01.jpg">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <style>
        :root { --primary-color: #1a73e8; --bg-color: #f8f9fa; --card-bg: #ffffff; }
        body { font-family: sans-serif; background-color: var(--bg-color); margin: 0; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 500px; padding: 20px; }
        header { text-align: center; margin-bottom: 20px; }
        
        /* í”„ë¡œí•„ ì„¹ì…˜ */
        .profile-card { background: white; padding: 20px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); margin-bottom: 25px; }
        .profile-select { width: 100%; padding: 12px; border-radius: 8px; border: 1px solid #ddd; font-size: 16px; margin-bottom: 10px; }
        .profile-controls { display: flex; gap: 8px; }
        .profile-controls input { flex: 1; padding: 10px; border: 1px solid #ddd; border-radius: 8px; }
        .btn { border: none; border-radius: 8px; cursor: pointer; font-weight: bold; transition: 0.2s; }
        .btn-add { background: #4caf50; color: white; padding: 0 15px; }
        .btn-del { background: #dc3545; color: white; padding: 0 15px; }
        .history-link { display: block; text-align: right; margin-top: 10px; color: var(--primary-color); text-decoration: none; font-size: 14px; }

        /* ë©”ë‰´ ë¦¬ìŠ¤íŠ¸ */
        .menu-list { display: flex; flex-direction: column; gap: 12px; }
        .menu-item { 
            background: var(--card-bg); padding: 18px; border-radius: 12px; text-decoration: none; 
            display: flex; align-items: center; justify-content: space-between;
            box-shadow: 0 2px 6px rgba(0,0,0,0.05); border-left: 6px solid var(--primary-color);
        }
        .level-title { font-size: 18px; font-weight: bold; color: #333; }
        .syo { border-left-color: #4caf50; }
        .chu { border-left-color: #ff9800; }
        .ko  { border-left-color: #e91e63; }
    </style>
</head>
<body>
<div class="container">
    <header>
        <h1>è‹±å˜èªå­¦ç¿’</h1>
        <div class="profile-card">
            <select id="profile-select" class="profile-select"></select>
            <div class="profile-controls">
                <input type="text" id="new-name" placeholder="åå‰ã‚’å…¥åŠ›">
                <button class="btn btn-add" onclick="addProfile()">è¿½åŠ </button>
                <button class="btn btn-del" onclick="deleteProfile()">å‰Šé™¤</button>
            </div>
            <a href="history.html" class="history-link">ğŸ“Š å­¦ç¿’è¨˜éŒ²ã‚’è¦‹ã‚‹</a>
        </div>
    </header>

    <div class="menu-list">
        <a href="test/test1-1.html" class="menu-item syo"><span class="level-title">å°å­¦æ ¡</span><span>â¯</span></a>
        <a href="test/test2-1.html" class="menu-item chu"><span class="level-title">ä¸­å­¦åè©</span><span>â¯</span></a>
        <a href="test/test2-2.html" class="menu-item chu"><span class="level-title">ä¸­å­¦ä»£åè©</span><span>â¯</span></a>
        <a href="test/test2-3.html" class="menu-item chu"><span class="level-title">ä¸­å­¦å‹•è©</span><span>â¯</span></a>
        <a href="test/test2-4.html" class="menu-item chu"><span class="level-title">ä¸­å­¦åŠ©å‹•è©</span><span>â¯</span></a>
        <a href="test/test2-5.html" class="menu-item chu"><span class="level-title">ä¸­å­¦å½¢å®¹è©</span><span>â¯</span></a>
        <a href="test/test2-6.html" class="menu-item chu"><span class="level-title">ä¸­å­¦å‰¯è©</span><span>â¯</span></a>
        <a href="test/test2-7.html" class="menu-item chu"><span class="level-title">ä¸­å­¦å‰ç½®è©</span><span>â¯</span></a>
        <a href="test/test2-8.html" class="menu-item chu"><span class="level-title">ä¸­å­¦æ¥ç¶šè©</span><span>â¯</span></a>
        <a href="test/test2-9.html" class="menu-item chu"><span class="level-title">ä¸­å­¦é–“æŠ•è©ãƒ»å† è©</span><span>â¯</span></a>
        <a href="test/test3-1.html" class="menu-item ko"><span class="level-title">é«˜æ ¡1å¹´ç”Ÿ</span><span>â¯</span></a>
    </div>
</div>

<script>
    function loadProfiles() {
        const profiles = JSON.parse(localStorage.getItem('quiz_profiles') || '[]');
        const select = document.getElementById('profile-select');
        const currentId = localStorage.getItem('current_profile_id');
        select.innerHTML = profiles.length ? "" : "<option value=''>ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿½åŠ ã—ã¦ãã ã•ã„</option>";
        profiles.forEach(p => {
            const opt = document.createElement('option');
            opt.value = p.id; opt.textContent = p.name;
            if(p.id == currentId) opt.selected = true;
            select.appendChild(opt);
        });
    }
    function addProfile() {
        const name = document.getElementById('new-name').value.trim();
        if(!name) return;
        const profiles = JSON.parse(localStorage.getItem('quiz_profiles') || '[]');
        const newP = { id: Date.now(), name: name };
        profiles.push(newP);
        localStorage.setItem('quiz_profiles', JSON.stringify(profiles));
        localStorage.setItem('current_profile_id', newP.id);
        document.getElementById('new-name').value = "";
        loadProfiles();
    }
    function deleteProfile() {
        const id = document.getElementById('profile-select').value;
        if(!id || !confirm("ã“ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®è¨˜éŒ²ã‚’ã™ã¹ã¦å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ")) return;
        let profiles = JSON.parse(localStorage.getItem('quiz_profiles') || '[]');
        profiles = profiles.filter(p => p.id != id);
        let history = JSON.parse(localStorage.getItem('quiz_history') || '[]');
        history = history.filter(h => h.profileId != id);
        localStorage.setItem('quiz_profiles', JSON.stringify(profiles));
        localStorage.setItem('quiz_history', JSON.stringify(history));
        loadProfiles();
    }
    document.getElementById('profile-select').onchange = (e) => localStorage.setItem('current_profile_id', e.target.value);
    loadProfiles();
    if ('serviceWorker' in navigator) navigator.serviceWorker.register('sw.js');
</script>
</body>
</html>